<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Voice to Text</title>
</head>
<body>
    <h1>ğŸ¤ Voice Recorder</h1>

    <!-- Start Record -->
    <form method="POST" action="/start-record">
        <button type="submit">ğŸ™ï¸ Báº¯t Ä‘áº§u ghi Ã¢m</button>
    </form>

    <!-- Stop Record -->
    <form method="POST" action="/stop-record">
        <button type="submit">ğŸ›‘ Dá»«ng ghi Ã¢m & Nháº­n dáº¡ng</button>
    </form>

    <!-- TTS: Nháº­p text -->
    <h2>ğŸ”Š Text-to-Speech (TTS)</h2>
    <form method="POST" action="/tts">
        <input type="text" name="text" placeholder="Nháº­p vÄƒn báº£n Ä‘á»ƒ Ä‘á»c" required>

        <!-- Dropdown chá»n giá»ng -->
        <label for="voice-select">Chá»n giá»ng:</label>
        <select name="voice" id="voice-select">
            <option value="af_bella">Äang táº£i danh sÃ¡ch giá»ng...</option>
        </select>

        <button type="submit">â–¶ï¸ Chuyá»ƒn thÃ nh giá»ng nÃ³i</button>
    </form>

    <!-- JS fetch danh sÃ¡ch voice -->
    <script>
    fetch("/voices")
        .then(res => res.json())
        .then(data => {
            const select = document.getElementById("voice-select");
            select.innerHTML = "";  // XÃ³a placeholder cÅ©
            data.voices.forEach(v => {
                const option = document.createElement("option");
                option.value = v;
                option.textContent = v;
                select.appendChild(option);
            });
        })
        .catch(err => {
            console.error("Lá»—i táº£i danh sÃ¡ch voice:", err);
        });
    </script>
</body>
</html>
